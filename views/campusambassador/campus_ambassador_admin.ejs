<html lang="en">
<head>
    <title>CODESHALA - GET BETTER AT PROGRAMING</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        function sbmt_function(para) {
            if (para == '1')
                document.getElementById('waiting').value = "on"
            if (para == '2')
                document.getElementById('hired').value = "on"
            if (para == '3')
                document.getElementById('rejected').value = "on"
            document.getElementById('submit_btn').click();
        }

        function request(para, id1, email1, name1) {
            // console.log("I am making Ajax Request");
            $.ajax({
                type: "POST",
                url: "/request",
                data: {'status': para, 'id': id1, 'email': email1, 'name': name1},
                success: function (res) {
                    // console.log(res);
                }
            });
             $("#"+id1+"1").hide();
            $("#"+id1+"2").hide();
            console.log("Ajax complete");
            
        }
    </script>
    <style>
        /* Generated by Font Squirrel (https://www.fontsquirrel.com) on October 7, 2016 */
        * {
            /* font-family: 'Jura', sans-serif; */
            font-family: 'Montserrat', sans-serif;
            font-size: 0.99em;
        }

        .font {
            font-family: "Montserrat", sans-serif;
        }


    </style>
</head>
</head>
<body>
<!-- <nav class="navbar navbar-inverse" style="border:none;border-radius: 0px;">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">CODESHALA</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      
   
    </div>
  </div>
</nav> -->

<div class="container-fluid">

    <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-10 col-sm-offset-0 text-center" style="width: 100%;">
            <h2 class="uppercase color-primary mb40 mb-xs-24"
                style="color:#ff5c33;font-weight: bold;letter-spacing: 1.5px;">ADMIN PANEL</h2>


        </div>

    </div>
    <div class="container-fluid">

        <div class="row" style="margin-top: 30px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-info" onclick="sbmt_function('1')"
                        style="width: 270px;height: 50px;border: none;">WAITING
                </button>
            </div>
            <div class="col-sm-1"></div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-success" onclick="sbmt_function('2')"
                        style="width: 270px;height: 50px;border: none;">HIRED
                </button>
            </div>
            <div class="col-sm-1"></div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-danger" onclick="sbmt_function('3')"
                        style="width: 270px;height: 50px;">REJECTED
                </button>
            </div>
            <div class="col-sm-2"></div>


        </div>
    </div>

    <form action="/admin/campus-ambassador" method="post">
        <input type="text" name="waiting" id="waiting" style="display: none;"><br>
        <input type="text" name="hired" id="hired" style="display: none;"><br>
        <input type="text" name="rejected" id="rejected" style="display: none;"><br>
        <input type="submit" id="submit_btn" style="display: none;">
    </form>

    <% applicants.forEach(function(applicant){ %>
    <div class="container-fluid">

        <div class="row" style="">

            <div style="padding: 20px;margin-top: 30px;margin-bottom: 20px;">
                <ul class="list-group list-group-flush"
                    style="list-style: none;margin:auto;width:95%;margin-top: 10px;padding: 20px;word-wrap: break-word;margin-left: 20px;box-shadow:0 0 20px rgba(0,0,0,0.34);">
                    <li class="list-group-item" style="color:#ff794d;">NAME: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.name %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">PHONE NUMBER: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.mobile %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">EMAIL: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.email %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">COLLEGE: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.college %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">STATE: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.state %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">BRANCH: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.branch %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">YEAR OF GRADUATION: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.year_of_graduation %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">ARE YOU EX_CODESHALA STUDENT: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.codeshala_student %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">BELONG TO ANY SOCIETY: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.any_society %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">LINK TO YOUR FACEBOOK PROFILE: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.social_links %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">ANY OTHER PROFILE: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.other_profile %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">WHY DO YOU THINK YOU WILL BE BETTER FIT FOR THIS
                        OPPORTUNITY.. <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.why_you %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">SUGGEST ONE IDEA TO SPREAD PRESENCE OF CS IN YOUR
                        COLLEGE.. <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.new_idea %></b>
                    </li>
                    <li class="list-group-item" style="color:#ff794d;">STATUS: <b
                                style="color:#8a8a5c; font-size: 15px; letter-spacing:0.2px"><%= applicant.status %></b>
                    </li>

                    <li></li>
                </ul>
                <% if (applicant.status == "Waiting") { %>
                <div class="row" style="margin-top: 10px;">
                    <button type="button" class="btn btn-success" id="<%= applicant._id %>1"
                            onclick="request('1','<%= applicant._id %>','<%= applicant.email %>','<%= applicant.name %>');"
                            style="margin-left: 75px;height: 40px;border:none;">ACCEPT
                    </button>
                    <button type="button" class="btn btn-danger" id="<%= applicant._id %>2"
                            onclick="request('2','<%= applicant._id %>','<%= applicant.email %>','<%= applicant.name %>');"
                            style="margin-left: 10px;height: 40px;border:none;">REJECT
                    </button>
                </div>
                <% } %>

            </div>
            <hr>
        </div>
    </div>
    <% }); %>

</body>
<!-- <!DOCTYPE html>
<html>
<head>
	<title></title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	function sbmt_function(para)
    {  
      if(para == '1')
        document.getElementById('waiting').value="on"
      if(para == '2')
        document.getElementById('hired').value="on"
      if(para == '3')
        document.getElementById('rejected').value="on"
    	document.getElementById('submit_btn').click();
    }
    function request(para,id1,email1,name1)
    {
      // console.log("I am making Ajax Request");
       $.ajax({  
        type: "POST",  
        url: "/request",  
        data: {'status': para, 'id': id1, 'email': email1, 'name': name1},  
        success: function(res) {  
        // console.log(res);  
        }  
    });
    }
</script>
</head>
<body>
<h1><%= applicants.length %></h1>
<% applicants.forEach(function(applicant){ %>
<p><%= applicant.name %></p>
<p><%= applicant.email %></p>
<p><%= applicant.status %></p>
<% if (applicant.status == "Waiting") { %>
<input type="button" id="accept" onclick="request('1','<%= applicant._id %>','<%= applicant.email %>','<%= applicant.name %>');">Accept
<input type="button" id="reject" onclick="request('2','<%= applicant._id %>','<%= applicant.email %>','<%= applicant.name %>');">Reject
<% } %>
<br>
<% }); %>
<form action="/admin/campus-ambassador" method="post">
  <button onclick="sbmt_function('1')">Waiting</button>
  <button onclick="sbmt_function('2')">Selected</button>
  <button onclick="sbmt_function('3')">Rejected</button>
  <input type="text" name="waiting"  id="waiting" style="display: none;"><br>
  <input type="text" name="hired"  id="hired" style="display: none;"><br>
  <input type="text" name="rejected"  id="rejected" style="display: none;"><br>
  <br>
  <input type="submit" id="submit_btn" style="display: none;">
</form>
</body>
</html> -->